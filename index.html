<!doctype HTML>
<html>
<head>
	<title>SCREAM The bricks</title>
	<link rel="stylesheet" href="css/style.css">
	<link rel="icon" type="image/png" href="img/ghostface.ico">
</head>
<body onload="drawIt()">
	<div id="head">SCREAM The Bricks</div><br>
	<div id="gameField">
		<canvas id="game" width="850" height="550"></canvas>
		<script type="text/javascript">
			function drawIt() {
			var x = 300;
			var y = 225;
			var dx = 2;
			var dy = 4;
			var r= 35;
			var ctx;
			var canvas;
			var paddlex;
			var paddleh;
			var paddlew;
			var rightDown = false;
			var leftDown = false;


			function init_paddle() {
			  paddlex = 850 / 2;
			  paddleh = 15;
			  paddlew = 80;
			}
			function init() {
			canvas=document.getElementById("game");
			ctx = canvas.getContext('2d');
			return setInterval(draw, 20); //klic funkcije draw vsakih 10 ms; http://www.w3schools.com/jsref/met_win_setinterval.asp
			}

			function draw() {
			ctx.beginPath();
			ctx.clearRect(0,0,850,550);
			img = new Image();
    		img.src = 'img/GFBallV4.png';
			
			ctx.drawImage(img, x, y);
			if (rightDown) paddlex += 5;
  			else if (leftDown) paddlex -= 5;
			ctx.rect(paddlex, 550-paddleh, paddlew, paddleh);
			ctx.fill();
			ctx.stroke();
			if (x + dx > 850-r || x + dx < 0+r)
    			dx = -dx;
			if (y + dy < 0+r)
    			dy = -dy;
  			else if (y + dy > 550-r) {
    			if (x > paddlex && x < paddlex + paddlew)
      				dy = -dy;
    			else
     				clearInterval(intervalId);
  				}

  				x += dx;
 			    y += dy;
			}
			init();
			init_paddle();
			}
			
		</script>
	</div>
</body>
</html>